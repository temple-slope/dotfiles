#!/bin/bash

set -e

# tmux æœ¬ä½“ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
if ! command -v tmux >/dev/null 2>&1; then
  echo "ğŸ“¦ Installing tmux..."
  brew install tmux
fi

# gpakosz/.tmux ã®ã‚¯ãƒ­ãƒ¼ãƒ³
if [ ! -d "$HOME/.tmux" ]; then
  echo "ğŸ“‚ Cloning gpakosz/.tmux..."
  git clone https://github.com/gpakosz/.tmux.git ~/.tmux
fi

# ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ä½œæˆ
ln -sf ~/.tmux/.tmux.conf ~/.tmux.conf

# .tmux.conf.local ãŒå­˜åœ¨ã—ãªã‘ã‚Œã°ä½œæˆï¼ˆchezmoi ã§ç®¡ç†ã™ã‚‹ãŸã‚ï¼‰
if [ ! -f "$HOME/.tmux.conf.local" ]; then
  echo "ğŸ“„ Creating initial .tmux.conf.local"
  cp ~/.tmux/.tmux.conf.local ~/.tmux.conf.local
fi

echo "âœ… tmux + gpakosz è¨­å®šå®Œäº†"
